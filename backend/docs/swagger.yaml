basePath: /
definitions:
  model.AssignPermissionRequest:
    properties:
      permission_ids:
        example:
        - 1
        - 2
        - 3
        items:
          type: integer
        type: array
      role_id:
        example: 1
        type: integer
    type: object
  model.AssignSensorToVehicleRequest:
    properties:
      sensor_id:
        example: 1
        type: integer
    type: object
  model.CreatePermissionRequest:
    properties:
      description:
        example: Create new users
        type: string
      name:
        example: users.create
        type: string
    type: object
  model.CreateRoleRequest:
    properties:
      description:
        example: Administrator role
        type: string
      name:
        example: admin
        type: string
    type: object
  model.CreateSensorRequest:
    properties:
      brand:
        example: ADCP
        type: string
      code:
        example: ADCP-WH600
        type: string
      description:
        example: Acoustic Doppler Current Profiler - measures water current velocity
          and direction
        type: string
      is_active:
        example: true
        type: boolean
      model:
        example: WorkHorse 600kHz
        type: string
      sensor_type_id:
        example: 1
        type: integer
    type: object
  model.CreateSensorTypeRequest:
    properties:
      description:
        example: Sensors for ocean data measurement and analysis
        type: string
      name:
        example: Oceanography
        type: string
    type: object
  model.CreateUserRequest:
    properties:
      email:
        type: string
      full_name:
        type: string
      password:
        type: string
    type: object
  model.CreateVehicleRequest:
    properties:
      code:
        example: VEH-001
        type: string
      description:
        example: Main delivery vehicle
        type: string
      name:
        example: Vehicle A
        type: string
      status:
        example: active
        type: string
    type: object
  model.LoginRequest:
    properties:
      email:
        example: user@example.com
        type: string
      password:
        example: secret123
        type: string
    type: object
  model.LoginResponse:
    properties:
      access_token:
        type: string
      token_type:
        type: string
      user:
        $ref: '#/definitions/model.UserResponse'
    type: object
  model.Permission:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      updated_at:
        type: string
    type: object
  model.RefreshResponse:
    properties:
      access_token:
        type: string
      token_type:
        type: string
      user:
        $ref: '#/definitions/model.UserResponse'
    type: object
  model.RegisterEmailRequest:
    properties:
      email:
        example: user@example.com
        type: string
    type: object
  model.ResendVerificationRequest:
    properties:
      email:
        example: user@example.com
        type: string
    type: object
  model.Role:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      permissions:
        items:
          $ref: '#/definitions/model.Permission'
        type: array
      updated_at:
        type: string
    type: object
  model.Sensor:
    properties:
      brand:
        description: ADCP, CTD, SBES, MBES
        type: string
      code:
        description: Unique identifier for routing data
        type: string
      created_at:
        type: string
      description:
        description: Sensor info and notes
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      model:
        description: Model/series name
        type: string
      sensor_type:
        $ref: '#/definitions/model.SensorType'
      sensor_type_id:
        type: integer
      updated_at:
        type: string
    type: object
  model.SensorLog:
    properties:
      created_at:
        type: string
      data:
        description: JSON data from sensor
        type: string
      id:
        type: integer
      sensor_code:
        type: string
      timestamp:
        type: string
      vehicle_code:
        type: string
    type: object
  model.SensorType:
    properties:
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      updated_at:
        type: string
    type: object
  model.SetCredentialsRequest:
    properties:
      full_name:
        example: John Doe
        type: string
      password:
        example: secret123
        type: string
      token:
        example: verification-token-here
        type: string
    type: object
  model.UpdatePermissionRequest:
    properties:
      description:
        type: string
      name:
        type: string
    type: object
  model.UpdateRoleRequest:
    properties:
      description:
        type: string
      name:
        type: string
    type: object
  model.UpdateSensorRequest:
    properties:
      brand:
        type: string
      code:
        type: string
      description:
        type: string
      is_active:
        type: boolean
      model:
        type: string
      sensor_type_id:
        type: integer
    type: object
  model.UpdateSensorTypeRequest:
    properties:
      description:
        type: string
      name:
        type: string
    type: object
  model.UpdateUserRequest:
    properties:
      email:
        type: string
      full_name:
        type: string
      is_verified:
        type: boolean
      password:
        type: string
      role_id:
        type: integer
    type: object
  model.UpdateVehicleRequest:
    properties:
      code:
        type: string
      description:
        type: string
      name:
        type: string
      status:
        type: string
    type: object
  model.UpdateVehicleSensorStatusRequest:
    properties:
      last_reading:
        example: '{"temperature": 25.5}'
        type: string
      last_reading_time:
        example: "2025-12-29T15:30:00Z"
        type: string
      status:
        example: active
        type: string
    type: object
  model.User:
    properties:
      created_at:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: integer
      is_verified:
        type: boolean
      updated_at:
        type: string
    type: object
  model.UserResponse:
    properties:
      created_at:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: integer
      is_verified:
        type: boolean
      role:
        description: Role as string, not object
        type: string
      updated_at:
        type: string
    type: object
  model.Vehicle:
    properties:
      code:
        description: Registration code & MQTT topic
        type: string
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      status:
        description: active, inactive, maintenance
        type: string
      updated_at:
        type: string
      user:
        $ref: '#/definitions/model.User'
      user_id:
        type: integer
    type: object
  model.VehicleBattery:
    properties:
      created_at:
        type: string
      id:
        type: integer
      percentage:
        description: 0.00 - 100.00
        type: number
      status:
        description: charging, discharging, full, low
        type: string
      temperature:
        description: Battery temperature in Celsius
        type: number
      vehicle:
        $ref: '#/definitions/model.Vehicle'
      vehicle_id:
        type: integer
      voltage:
        description: Voltage in V
        type: number
    type: object
  model.VehicleSensor:
    properties:
      created_at:
        type: string
      id:
        type: integer
      last_reading:
        description: JSON string of last sensor reading
        type: string
      last_reading_time:
        type: string
      sensor:
        $ref: '#/definitions/model.Sensor'
      sensor_id:
        type: integer
      status:
        description: active, inactive, maintenance, error
        type: string
      updated_at:
        type: string
      vehicle:
        $ref: '#/definitions/model.Vehicle'
      vehicle_id:
        type: integer
    type: object
  model.VerifyEmailRequest:
    properties:
      token:
        example: verification-token-here
        type: string
    type: object
host: api.seano.cloud
info:
  contact:
    email: support@example.com
    name: API Support
  description: Complete API with JWT authentication, email verification, and CRUD
    operations
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: User Management API with Authentication
  version: "1.0"
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Login with email and password, returns JWT tokens
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.LoginResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: User login
      tags:
      - Authentication
  /auth/logout:
    post:
      description: Logout user and clear refresh token
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: User logout
      tags:
      - Authentication
  /auth/me:
    get:
      description: Get authenticated user information
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get current user info
      tags:
      - Authentication
  /auth/refresh:
    post:
      description: Get new access token using refresh token from cookies
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.RefreshResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Refresh access token
      tags:
      - Authentication
  /auth/register-email:
    post:
      consumes:
      - application/json
      description: Register a new user with email, sends verification token via email
      parameters:
      - description: Email
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.RegisterEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Register with email
      tags:
      - Authentication
  /auth/resend-verification:
    post:
      consumes:
      - application/json
      description: Resend verification token to email
      parameters:
      - description: Email
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.ResendVerificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Resend verification email
      tags:
      - Authentication
  /auth/set-credentials:
    post:
      consumes:
      - application/json
      description: Set full name and password after email verification
      parameters:
      - description: Credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.SetCredentialsRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.LoginResponse'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Set user credentials
      tags:
      - Authentication
  /auth/verify-email:
    post:
      consumes:
      - application/json
      description: Verify email address using the token sent to email
      parameters:
      - description: Verification Token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.VerifyEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      summary: Verify email with token
      tags:
      - Authentication
  /permissions:
    get:
      description: Get all permissions
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.Permission'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all permissions
      tags:
      - Permissions
    post:
      consumes:
      - application/json
      description: Create a new permission with name and description
      parameters:
      - description: Permission data
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/model.CreatePermissionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.Permission'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new permission
      tags:
      - Permissions
  /permissions/{id}:
    delete:
      description: Delete a permission by ID
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete a permission
      tags:
      - Permissions
    get:
      description: Get a specific permission by ID
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Permission'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get a permission by ID
      tags:
      - Permissions
    put:
      consumes:
      - application/json
      description: Update a permission's name and/or description
      parameters:
      - description: Permission ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated permission data
        in: body
        name: permission
        required: true
        schema:
          $ref: '#/definitions/model.UpdatePermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Permission'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update a permission
      tags:
      - Permissions
  /permissions/assign-to-role:
    post:
      consumes:
      - application/json
      description: Assign one or more permissions to a role
      parameters:
      - description: Assignment data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/model.AssignPermissionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Assign permissions to a role
      tags:
      - Permissions
  /permissions/remove-from-role/{role_id}/{permission_id}:
    delete:
      description: Remove a specific permission from a role
      parameters:
      - description: Role ID
        in: path
        name: role_id
        required: true
        type: integer
      - description: Permission ID
        in: path
        name: permission_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Remove a permission from a role
      tags:
      - Permissions
  /roles:
    get:
      description: Get all roles with their permissions
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.Role'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all roles
      tags:
      - Roles
    post:
      consumes:
      - application/json
      description: Create a new role with name and description
      parameters:
      - description: Role data
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/model.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.Role'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new role
      tags:
      - Roles
  /roles/{id}:
    delete:
      description: Delete a role by ID
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete a role
      tags:
      - Roles
    get:
      description: Get a specific role by ID with its permissions
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Role'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get a role by ID
      tags:
      - Roles
    put:
      consumes:
      - application/json
      description: Update a role's name and/or description
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      - description: Updated role data
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/model.UpdateRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Role'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update a role
      tags:
      - Roles
  /sensor-logs:
    get:
      consumes:
      - application/json
      description: Retrieve sensor logs with optional filters (vehicle_code, sensor_code,
        time range)
      parameters:
      - description: Vehicle Code
        in: query
        name: vehicle_code
        type: string
      - description: Sensor Code
        in: query
        name: sensor_code
        type: string
      - description: Start Time (ISO 8601)
        in: query
        name: start_time
        type: string
      - description: End Time (ISO 8601)
        in: query
        name: end_time
        type: string
      - default: 100
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get sensor logs with filters
      tags:
      - Sensor Logs
  /sensor-logs/{vehicle_code}/{sensor_code}/latest:
    get:
      consumes:
      - application/json
      description: Retrieve the most recent log for a specific vehicle and sensor
      parameters:
      - description: Vehicle Code
        in: path
        name: vehicle_code
        required: true
        type: string
      - description: Sensor Code
        in: path
        name: sensor_code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SensorLog'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get latest sensor log
      tags:
      - Sensor Logs
  /sensor-logs/cleanup:
    delete:
      consumes:
      - application/json
      description: Delete sensor logs older than specified date
      parameters:
      - description: Before Date (ISO 8601)
        in: query
        name: before_date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete old sensor logs (admin only)
      tags:
      - Sensor Logs
  /sensor-types:
    get:
      description: Get all sensor types (accessible to all authenticated users for
        filtering sensors)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.SensorType'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all sensor types
      tags:
      - Sensor Types
    post:
      consumes:
      - application/json
      description: Create a new sensor type with name and description. Requires sensor_types.manage
        permission.
      parameters:
      - description: Sensor Type data
        in: body
        name: sensor_type
        required: true
        schema:
          $ref: '#/definitions/model.CreateSensorTypeRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.SensorType'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new sensor type (admin only)
      tags:
      - Sensor Types
  /sensor-types/{sensor_type_id}:
    delete:
      description: Delete a sensor type by ID. Requires sensor_types.manage permission.
      parameters:
      - description: Sensor Type ID
        in: path
        name: sensor_type_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete a sensor type (admin only)
      tags:
      - Sensor Types
    get:
      description: Get a specific sensor type by ID (accessible to all authenticated
        users)
      parameters:
      - description: Sensor Type ID
        in: path
        name: sensor_type_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SensorType'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get a sensor type by ID
      tags:
      - Sensor Types
    put:
      consumes:
      - application/json
      description: Update a sensor type's name and/or description. Requires sensor_types.manage
        permission.
      parameters:
      - description: Sensor Type ID
        in: path
        name: sensor_type_id
        required: true
        type: integer
      - description: Updated sensor type data
        in: body
        name: sensor_type
        required: true
        schema:
          $ref: '#/definitions/model.UpdateSensorTypeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.SensorType'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update a sensor type (admin only)
      tags:
      - Sensor Types
  /sensors:
    get:
      description: Get all sensor master data (accessible to all authenticated users
        for assignment)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.Sensor'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all sensors
      tags:
      - Sensors
    post:
      consumes:
      - application/json
      description: Create a new sensor master data with brand, model, and data structure
        info
      parameters:
      - description: Sensor data
        in: body
        name: sensor
        required: true
        schema:
          $ref: '#/definitions/model.CreateSensorRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.Sensor'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new sensor (admin only)
      tags:
      - Sensors
  /sensors/{sensor_id}:
    delete:
      description: Delete a sensor by ID
      parameters:
      - description: Sensor ID
        in: path
        name: sensor_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete a sensor (admin only)
      tags:
      - Sensors
    get:
      description: Get a specific sensor by ID
      parameters:
      - description: Sensor ID
        in: path
        name: sensor_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Sensor'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get a sensor by ID
      tags:
      - Sensors
    put:
      consumes:
      - application/json
      description: Update a sensor's information
      parameters:
      - description: Sensor ID
        in: path
        name: sensor_id
        required: true
        type: integer
      - description: Updated sensor data
        in: body
        name: sensor
        required: true
        schema:
          $ref: '#/definitions/model.UpdateSensorRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Sensor'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update a sensor (admin only)
      tags:
      - Sensors
  /sensors/code/{sensor_code}:
    get:
      description: Get a specific sensor by code
      parameters:
      - description: Sensor Code
        in: path
        name: sensor_code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Sensor'
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get a sensor by code
      tags:
      - Sensors
  /sensors/status:
    get:
      description: Get status of all sensor assignments (admin only or user's own
        vehicles)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.VehicleSensor'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all sensors status across all vehicles
      tags:
      - Vehicle-Sensors
  /users/:
    get:
      description: Get list of all users
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.User'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all users
      tags:
      - User
    post:
      consumes:
      - application/json
      description: Create a new user with email, full_name, and password
      parameters:
      - description: User data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.User'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new user
      tags:
      - User
  /users/{user_id}:
    delete:
      description: Delete a user by ID
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete user
      tags:
      - User
    get:
      description: Get a single user by ID (own profile or with users.view permission)
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user by ID
      tags:
      - User
    put:
      consumes:
      - application/json
      description: Update user information by ID (own profile or with users.update
        permission)
      parameters:
      - description: User ID
        in: path
        name: user_id
        required: true
        type: integer
      - description: User data to update
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/model.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update user
      tags:
      - User
  /vehicles:
    get:
      description: Get all vehicles (own vehicles for regular users, all vehicles
        for admins)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.Vehicle'
            type: array
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all vehicles
      tags:
      - Vehicles
    post:
      consumes:
      - application/json
      description: Create a new vehicle with code (used as registration & MQTT topic)
      parameters:
      - description: Vehicle data
        in: body
        name: vehicle
        required: true
        schema:
          $ref: '#/definitions/model.CreateVehicleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.Vehicle'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create a new vehicle
      tags:
      - Vehicles
  /vehicles/{vehicle_id}:
    delete:
      description: Delete a vehicle by ID (own vehicle or with vehicles.delete permission)
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete a vehicle
      tags:
      - Vehicles
    get:
      description: Get a specific vehicle by ID (own vehicle or with vehicles.view
        permission)
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Vehicle'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get a vehicle by ID
      tags:
      - Vehicles
    put:
      consumes:
      - application/json
      description: Update a vehicle's information (own vehicle or with vehicles.update
        permission)
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      - description: Updated vehicle data
        in: body
        name: vehicle
        required: true
        schema:
          $ref: '#/definitions/model.UpdateVehicleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Vehicle'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update a vehicle
      tags:
      - Vehicles
  /vehicles/{vehicle_id}/battery:
    get:
      description: Get the latest battery status for a vehicle
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.VehicleBattery'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get vehicle battery status
      tags:
      - Vehicles
  /vehicles/{vehicle_id}/sensors:
    get:
      description: Get all sensors assigned to a specific vehicle
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.VehicleSensor'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all sensors assigned to a vehicle
      tags:
      - Vehicle-Sensors
    post:
      consumes:
      - application/json
      description: Assign a sensor from master data to a vehicle
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      - description: Sensor assignment
        in: body
        name: assignment
        required: true
        schema:
          $ref: '#/definitions/model.AssignSensorToVehicleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/model.VehicleSensor'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Assign a sensor to a vehicle
      tags:
      - Vehicle-Sensors
  /vehicles/{vehicle_id}/sensors/{sensor_id}:
    delete:
      description: Remove a sensor assignment from a vehicle
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      - description: Sensor ID
        in: path
        name: sensor_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Remove a sensor from a vehicle
      tags:
      - Vehicle-Sensors
  /vehicles/{vehicle_id}/sensors/{sensor_id}/status:
    put:
      consumes:
      - application/json
      description: Update the status and last reading of a vehicle sensor
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      - description: Sensor ID
        in: path
        name: sensor_id
        required: true
        type: integer
      - description: Status update
        in: body
        name: update
        required: true
        schema:
          $ref: '#/definitions/model.UpdateVehicleSensorStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update sensor status (for MQTT data updates)
      tags:
      - Vehicle-Sensors
  /vehicles/{vehicle_id}/sensors/status:
    get:
      description: Get detailed status of all sensors assigned to a vehicle including
        last readings
      parameters:
      - description: Vehicle ID
        in: path
        name: vehicle_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/model.VehicleSensor'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get vehicle sensors status
      tags:
      - Vehicle-Sensors
schemes:
- https
securityDefinitions:
  BearerAuth:
    description: Enter your JWT token (Bearer prefix will be added automatically)
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
